# Create compacted topic for latest telemetry per device (VIN).
# Required: cleanup.policy=compact so only the latest record per key is retained.
# Run from Kafka container or with kafka-topics.sh on PATH (e.g. docker exec -it kafka1 bash).
#
kafka-topics.sh \
  --bootstrap-server localhost:19091 \
  --create \
  --topic sensor-service.dispatch.telemetry-latest-compacted \
  --partitions 12 \
  --replication-factor 3 \
  --config cleanup.policy=compact \
  --config min.cleanable.dirty.ratio=0.01 \
  --config segment.ms=600000
